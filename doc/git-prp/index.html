<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>git prp - GitAlias</title>
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script>
    <meta name='theme-color' content='#aa1e1e'>
    <meta name="application-name" content="GitAlias"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css" integrity="sha256-h/qtq9bUnXbOOwP4EcbLtYM9Mk3iQQcHZAZ+Jz5y0WQ=" crossorigin="anonymous">
    <style>
      h1 { font-size: 1.8em; margin-top: 2.0rem; }
      h2 { font-size: 1.4em; margin-top: 2.0rem; }
      h3 { font-size: 1.2em; margin-top: 2.0rem; }
      body { margin: 0; line-height: 1.5rem; }
      nav { color: white; background: black; padding: 1rem; }
      body { font-family: sans-serif; }
      pre code { background: #ddd; font-size: 1.2rem; padding: 1.0rem; }
      p, dt, dd, li, ol, ul { margin-top: 1.5rem; margin-bottom: 1.5rem; }
      footer { margin: 3.0rem 0 0 0; }
      .content { margin: 0 auto; padding: 0 10% 0 10%; }
      .text-decoration-none, a.text-decoration-none:link, a.text-decoration-none:visited, a.text-decoration-none:hover, a.text-decoration-none:active { text-decoration: none; }
    </style>
  </head>
  <body>
    <nav>
        <b><a class="text-decoration-none" href="/" style="color: white;">GitAlias.com</a></b>
    </nav>
    <div class="content">
      <h1>git prp</h1>
<h2>Pull with rebase preserve of merge commits</h2>
<p>Git alias:</p>
<pre><code class="language-git">prp = pull --rebase=preserve
</code></pre>
<p>Example:</p>
<pre><code class="language-shell">git prp
</code></pre>
<p>See https://stackoverflow.com/questions/21364636/git-pull-rebase-preserve-merges</p>
<p>You should only rebase if you know (in a sort of general sense)
what you are doing, and if you do know what you are doing, then you
would probably prefer a merge-preserving rebase as a general rule.</p>
<p>Although by the time you’ve decided that rebasing is a good idea,
you will probably find that a history that has its own embedded
branch-and-merge-points is not necessarily the correct “final
rewritten history”.</p>
<p>That is, if it’s appropriate to do a rebase at all, it’s at least fairly
likely that the history to be rebased is itself linear, so that the
preserve-vs-flatten question is moot anyway.</p>
<p>See https://stackoverflow.com/questions/38269092/is-it-possible-to-put-preserve-merges-in-the-gitconfig</p>
<p>While preserving merges is probably generally superior, in at least a
few ways, to discarding them when rebasing, the fact is that rebase
cannot preserve them. The only thing it can do, once some commits
have been copied to new commits, is re-perform them. This can have new
and/or different merge conflicts, vs the last time the merge was done.
You should also pay close attention to the restrictions on merge
preservation in the git rebase documentation.</p>
<p>Without getting into a lot of detail, it always seems to me that most
commit graph subsets that “should be” rebased, rarely have any
internal merges. If such a graph subset has a single final merge, you
can simply strip away that merge (with git reset) before rebasing,
and re-do that single merge manually at the end. (In fact, git rebase
normally drops merge commits entirely, so you don’t have to run the git
reset itself in some cases. The one where you do have to run it is when
the merge is into the branch onto which you intend to rebase. This is
where git pull actually does the right thing when it uses
<code>git rebase -p</code>, except that it fails to check for, and warn about,
internal merges, which are sort of warning signs that rebasing might
not be a good idea.</p>

    </div>
    <footer class="footer">
        <nav><b><a class="text-decoration-none" href="/" style="color: white;">GitAlias.com</a></b></nav>
    </footer>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/components/prism-core.min.js" integrity="sha256-vlRYHThwdq55dA+n1BKQRzzLwFtH9VINdSI68+5JhpU=" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-cl5LNmPvcRcGFaQFjwEKIfs51AX7wBkvoByH6LTxQCs=" crossorigin="anonymous"></script>
  </body>
</html>
